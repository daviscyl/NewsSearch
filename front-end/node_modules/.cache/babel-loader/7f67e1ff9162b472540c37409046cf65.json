{"ast":null,"code":"import _classCallCheck from\"/Users/davischan/Desktop/news-search-page/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/davischan/Desktop/news-search-page/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/Users/davischan/Desktop/news-search-page/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/davischan/Desktop/news-search-page/node_modules/@babel/runtime/helpers/esm/inherits\";import{Input,AutoComplete}from\"antd\";import React,{Component}from\"react\";import\"./Landing.css\";import NewsList from\"./NewsList\";import Companise from\"./Companies\";var Search=Input.Search;var newsapi=\"https://newsapi.org/v2/everything?q=stock%20market&sort=popularity&from=\";var news_apikey=\"&apiKey=1e4f8ec94dd04a618818e279de286283\";var Landing=/*#__PURE__*/function(_Component){_inherits(Landing,_Component);var _super=_createSuper(Landing);function Landing(props){var _this;_classCallCheck(this,Landing);_this=_super.call(this,props);_this.handleSearch=function(query){fetch(\"http://ec2-54-215-128-254.us-west-1.compute.amazonaws.com:5000/\"+query).then(function(res){return res.json();}).then(function(json){var list=[];json.forEach(function(e){list.push(e[\"_source\"]);});return list;}).then(function(list){_this.setState({listData:list});});};_this.state={listData:[],showHeadline:true};return _this;}_createClass(Landing,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var today=new Date();var yesterday=new Date(today);yesterday.setDate(yesterday.getDate()-3);var from=yesterday.getFullYear()+\"-\"+(\"0\"+(yesterday.getMonth()+1)).slice(-2)+\"-\"+(\"0\"+yesterday.getDate()).slice(-2);var url=newsapi+from+news_apikey;fetch(url).then(function(res){return res.json();}).then(function(json){_this2.setState({listData:json.articles});});}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/React.createElement(\"div\",{className:\"landing-page\"},/*#__PURE__*/React.createElement(\"h1\",null,\"NEU CS6200 Final Project Demo\"),/*#__PURE__*/React.createElement(\"h2\",null,\"S&P-500 Company News Search - Davis (Yik Lung) Chan\"),/*#__PURE__*/React.createElement(\"div\",{id:\"search-bar\"},/*#__PURE__*/React.createElement(AutoComplete,{options:Companise,filterOption:function filterOption(inputValue,option){return option.value.toUpperCase().indexOf(inputValue.toUpperCase())!==-1;}},/*#__PURE__*/React.createElement(Search,{placeholder:\"Search S&P 500 Companise\",size:\"large\",onSearch:function onSearch(query){_this3.handleSearch(query);},enterButton:true}))),/*#__PURE__*/React.createElement(\"div\",{className:\"head-lines\"},/*#__PURE__*/React.createElement(NewsList,{listData:this.state.listData})));}}]);return Landing;}(Component);export default Landing;","map":{"version":3,"sources":["/Users/davischan/Desktop/news-search-page/src/Landing.js"],"names":["Input","AutoComplete","React","Component","NewsList","Companise","Search","newsapi","news_apikey","Landing","props","handleSearch","query","fetch","then","res","json","list","forEach","e","push","setState","listData","state","showHeadline","today","Date","yesterday","setDate","getDate","from","getFullYear","getMonth","slice","url","articles","inputValue","option","value","toUpperCase","indexOf"],"mappings":"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","sourcesContent":["import { Input, AutoComplete } from \"antd\";\nimport React, { Component } from \"react\";\nimport \"./Landing.css\";\nimport NewsList from \"./NewsList\";\nimport Companise from \"./Companies\";\n\nconst { Search } = Input;\n\nconst newsapi = \"https://newsapi.org/v2/everything?q=stock%20market&sort=popularity&from=\";\nconst news_apikey = \"&apiKey=1e4f8ec94dd04a618818e279de286283\";\n\nclass Landing extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      listData: [],\n      showHeadline: true,\n    };\n  }\n\n  componentDidMount() {\n    const today = new Date();\n    let yesterday = new Date(today);\n    yesterday.setDate(yesterday.getDate() - 3);\n    const from =\n      yesterday.getFullYear() +\n      \"-\" +\n      (\"0\" + (yesterday.getMonth() + 1)).slice(-2) +\n      \"-\" +\n      (\"0\" + yesterday.getDate()).slice(-2);\n    const url = newsapi + from + news_apikey;\n\n    fetch(url)\n      .then((res) => res.json())\n      .then((json) => {\n        this.setState({ listData: json.articles });\n      });\n  }\n\n  handleSearch = (query) => {\n    fetch(\"http://ec2-54-215-128-254.us-west-1.compute.amazonaws.com:5000/\" + query)\n      .then((res) => res.json())\n      .then((json) => {\n        let list = [];\n        json.forEach((e) => {\n          list.push(e[\"_source\"]);\n        });\n        return list;\n      })\n      .then((list) => {\n        this.setState({ listData: list });\n      });\n  };\n\n  render() {\n    return (\n      <div className=\"landing-page\">\n        <h1>NEU CS6200 Final Project Demo</h1>\n        <h2>S&P-500 Company News Search - Davis (Yik Lung) Chan</h2>\n        <div id=\"search-bar\">\n          <AutoComplete\n            options={Companise}\n            filterOption={(inputValue, option) => option.value.toUpperCase().indexOf(inputValue.toUpperCase()) !== -1}\n          >\n            <Search\n              placeholder=\"Search S&P 500 Companise\"\n              size=\"large\"\n              onSearch={(query) => {\n                this.handleSearch(query);\n              }}\n              enterButton\n            />\n          </AutoComplete>\n        </div>\n        <div className=\"head-lines\">\n          <NewsList listData={this.state.listData} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Landing;\n"]},"metadata":{},"sourceType":"module"}