{"ast":null,"code":"var _jsxFileName = \"/Users/davischan/Desktop/news-search-page/src/Landing.js\";\nimport { Input, AutoComplete } from \"antd\";\nimport React, { Component } from \"react\";\nimport \"./Landing.css\";\nimport NewsList from \"./NewsList\";\nimport Companise from \"./Companies\";\nconst {\n  Search\n} = Input;\nconst newsapi = \"https://newsapi.org/v2/everything?q=stock%20market&sort=popularity&from=\";\nconst news_apikey = \"&apiKey=1e4f8ec94dd04a618818e279de286283\";\n\nclass Landing extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSearch = query => {\n      fetch(\"http://ec2-54-215-128-254.us-west-1.compute.amazonaws.com:5000/\" + query).then(res => res.json()).then(json => {\n        let list = [];\n        json.forEach(e => {\n          list.push(e[\"_source\"]);\n        });\n        return list;\n      }).then(list => {\n        this.setState({\n          listData: list\n        });\n      });\n    };\n\n    this.state = {\n      listData: [],\n      showHeadline: true\n    };\n  }\n\n  componentDidMount() {\n    const today = new Date();\n    let yesterday = new Date(today);\n    yesterday.setDate(yesterday.getDate() - 3);\n    const from = yesterday.getFullYear() + \"-\" + (\"0\" + (yesterday.getMonth() + 1)).slice(-2) + \"-\" + (\"0\" + yesterday.getDate()).slice(-2);\n    const url = newsapi + from + news_apikey;\n    fetch(url).then(res => res.json()).then(json => {\n      this.setState({\n        listData: json.articles\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"landing-page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }\n    }, \"NEU CS6200 Final Project Demo\"), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }\n    }, \"S&P-500 Company News Search - Davis (Yik Lung) Chan\"), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"search-bar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(AutoComplete, {\n      options: Companise,\n      filterOption: (inputValue, option) => option.value.toUpperCase().indexOf(inputValue.toUpperCase()) !== -1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Search, {\n      placeholder: \"Search S&P 500 Companise\",\n      size: \"large\",\n      onSearch: query => {\n        this.handleSearch(query);\n      },\n      enterButton: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"head-lines\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(NewsList, {\n      listData: this.state.listData,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\nexport default Landing;","map":{"version":3,"sources":["/Users/davischan/Desktop/news-search-page/src/Landing.js"],"names":["Input","AutoComplete","React","Component","NewsList","Companise","Search","newsapi","news_apikey","Landing","constructor","props","handleSearch","query","fetch","then","res","json","list","forEach","e","push","setState","listData","state","showHeadline","componentDidMount","today","Date","yesterday","setDate","getDate","from","getFullYear","getMonth","slice","url","articles","render","inputValue","option","value","toUpperCase","indexOf"],"mappings":";AAAA,SAASA,KAAT,EAAgBC,YAAhB,QAAoC,MAApC;AACA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,eAAP;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AAEA,MAAM;AAAEC,EAAAA;AAAF,IAAaN,KAAnB;AAEA,MAAMO,OAAO,GAAG,0EAAhB;AACA,MAAMC,WAAW,GAAG,0CAApB;;AAEA,MAAMC,OAAN,SAAsBN,SAAtB,CAAgC;AAC9BO,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SA2BnBC,YA3BmB,GA2BHC,KAAD,IAAW;AACxBC,MAAAA,KAAK,CAAC,oEAAoED,KAArE,CAAL,CACGE,IADH,CACSC,GAAD,IAASA,GAAG,CAACC,IAAJ,EADjB,EAEGF,IAFH,CAESE,IAAD,IAAU;AACd,YAAIC,IAAI,GAAG,EAAX;AACAD,QAAAA,IAAI,CAACE,OAAL,CAAcC,CAAD,IAAO;AAClBF,UAAAA,IAAI,CAACG,IAAL,CAAUD,CAAC,CAAC,SAAD,CAAX;AACD,SAFD;AAGA,eAAOF,IAAP;AACD,OARH,EASGH,IATH,CASSG,IAAD,IAAU;AACd,aAAKI,QAAL,CAAc;AAAEC,UAAAA,QAAQ,EAAEL;AAAZ,SAAd;AACD,OAXH;AAYD,KAxCkB;;AAEjB,SAAKM,KAAL,GAAa;AACXD,MAAAA,QAAQ,EAAE,EADC;AAEXE,MAAAA,YAAY,EAAE;AAFH,KAAb;AAID;;AAEDC,EAAAA,iBAAiB,GAAG;AAClB,UAAMC,KAAK,GAAG,IAAIC,IAAJ,EAAd;AACA,QAAIC,SAAS,GAAG,IAAID,IAAJ,CAASD,KAAT,CAAhB;AACAE,IAAAA,SAAS,CAACC,OAAV,CAAkBD,SAAS,CAACE,OAAV,KAAsB,CAAxC;AACA,UAAMC,IAAI,GACRH,SAAS,CAACI,WAAV,KACA,GADA,GAEA,CAAC,OAAOJ,SAAS,CAACK,QAAV,KAAuB,CAA9B,CAAD,EAAmCC,KAAnC,CAAyC,CAAC,CAA1C,CAFA,GAGA,GAHA,GAIA,CAAC,MAAMN,SAAS,CAACE,OAAV,EAAP,EAA4BI,KAA5B,CAAkC,CAAC,CAAnC,CALF;AAMA,UAAMC,GAAG,GAAG7B,OAAO,GAAGyB,IAAV,GAAiBxB,WAA7B;AAEAM,IAAAA,KAAK,CAACsB,GAAD,CAAL,CACGrB,IADH,CACSC,GAAD,IAASA,GAAG,CAACC,IAAJ,EADjB,EAEGF,IAFH,CAESE,IAAD,IAAU;AACd,WAAKK,QAAL,CAAc;AAAEC,QAAAA,QAAQ,EAAEN,IAAI,CAACoB;AAAjB,OAAd;AACD,KAJH;AAKD;;AAiBDC,EAAAA,MAAM,GAAG;AACP,wBACE;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6DAFF,eAGE;AAAK,MAAA,EAAE,EAAC,YAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,YAAD;AACE,MAAA,OAAO,EAAEjC,SADX;AAEE,MAAA,YAAY,EAAE,CAACkC,UAAD,EAAaC,MAAb,KAAwBA,MAAM,CAACC,KAAP,CAAaC,WAAb,GAA2BC,OAA3B,CAAmCJ,UAAU,CAACG,WAAX,EAAnC,MAAiE,CAAC,CAF1G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAIE,oBAAC,MAAD;AACE,MAAA,WAAW,EAAC,0BADd;AAEE,MAAA,IAAI,EAAC,OAFP;AAGE,MAAA,QAAQ,EAAG7B,KAAD,IAAW;AACnB,aAAKD,YAAL,CAAkBC,KAAlB;AACD,OALH;AAME,MAAA,WAAW,MANb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,CADF,CAHF,eAkBE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,QAAD;AAAU,MAAA,QAAQ,EAAE,KAAKW,KAAL,CAAWD,QAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAlBF,CADF;AAwBD;;AApE6B;;AAuEhC,eAAed,OAAf","sourcesContent":["import { Input, AutoComplete } from \"antd\";\nimport React, { Component } from \"react\";\nimport \"./Landing.css\";\nimport NewsList from \"./NewsList\";\nimport Companise from \"./Companies\";\n\nconst { Search } = Input;\n\nconst newsapi = \"https://newsapi.org/v2/everything?q=stock%20market&sort=popularity&from=\";\nconst news_apikey = \"&apiKey=1e4f8ec94dd04a618818e279de286283\";\n\nclass Landing extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      listData: [],\n      showHeadline: true,\n    };\n  }\n\n  componentDidMount() {\n    const today = new Date();\n    let yesterday = new Date(today);\n    yesterday.setDate(yesterday.getDate() - 3);\n    const from =\n      yesterday.getFullYear() +\n      \"-\" +\n      (\"0\" + (yesterday.getMonth() + 1)).slice(-2) +\n      \"-\" +\n      (\"0\" + yesterday.getDate()).slice(-2);\n    const url = newsapi + from + news_apikey;\n\n    fetch(url)\n      .then((res) => res.json())\n      .then((json) => {\n        this.setState({ listData: json.articles });\n      });\n  }\n\n  handleSearch = (query) => {\n    fetch(\"http://ec2-54-215-128-254.us-west-1.compute.amazonaws.com:5000/\" + query)\n      .then((res) => res.json())\n      .then((json) => {\n        let list = [];\n        json.forEach((e) => {\n          list.push(e[\"_source\"]);\n        });\n        return list;\n      })\n      .then((list) => {\n        this.setState({ listData: list });\n      });\n  };\n\n  render() {\n    return (\n      <div className=\"landing-page\">\n        <h1>NEU CS6200 Final Project Demo</h1>\n        <h2>S&P-500 Company News Search - Davis (Yik Lung) Chan</h2>\n        <div id=\"search-bar\">\n          <AutoComplete\n            options={Companise}\n            filterOption={(inputValue, option) => option.value.toUpperCase().indexOf(inputValue.toUpperCase()) !== -1}\n          >\n            <Search\n              placeholder=\"Search S&P 500 Companise\"\n              size=\"large\"\n              onSearch={(query) => {\n                this.handleSearch(query);\n              }}\n              enterButton\n            />\n          </AutoComplete>\n        </div>\n        <div className=\"head-lines\">\n          <NewsList listData={this.state.listData} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Landing;\n"]},"metadata":{},"sourceType":"module"}